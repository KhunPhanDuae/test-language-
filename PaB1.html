<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ပအိုဝ်းစာ အခြေခံများ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ပအိုဝ်းစာ အခြေခံများ</h1>

        <section>
            <h2>ပါဠိသရ (၈) ဖြုံႏ</h2>
            <table id="pali-vowels-table">
                <thead>
                    <tr>
                        <th>ပအိုဝ်းစာ</th>
                        <th>Romanization</th>
                        <th>IPA</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

        <section>
            <h2>ပအိုဝ်ႏသရ (၁၆) ဖြုံႏ</h2>
            <table id="paoh-vowels-table">
                <thead>
                    <tr>
                        <th>ပအိုဝ်းစာ</th>
                        <th>Romanization</th>
                        <th>IPA (အကြံပြု)</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

        <section>
            <h2>ပအိုဝ်ႏဗျည်း (၃၃) ဖြုံႏ</h2>
            <table id="paoh-consonants-table">
                <thead>
                    <tr>
                        <th>ပအိုဝ်းစာ</th>
                        <th>Romanization</th>
                        <th>IPA (အကြံပြု)</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

        <section>
            <h2>ပအိုဝ်ႏဂဏန်ꩻ (၁၀) ဖြုံႏ</h2>
            <table id="paoh-numbers-table">
                <thead>
                    <tr>
                        <th>ပအိုဝ်းစာ</th>
                        <th>Romanization</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

        <section>
            <h2>ဗီးပစ္စည်း (၂၀) ဖြုံႏ (Romanization အကြံပြုချက်)</h2>
            <table id="paoh-diacritics-table">
                <thead>
                    <tr>
                        <th>ပအိုဝ်းစာ</th>
                        <th>Romanization</th>
                        <th>ဖော်ပြချက်</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>
        
        <section>
            <h2>လိတ်မွူး အတွယ်ꩻ (Tone ဇယားများ)</h2>
            <h3>လိတ်မွူး အတွယ်ꩻ (၁)</h3>
            <table id="tones-set1-table"></table>
            <h3>လိတ်မွူး အတွယ်ꩻ (၂)</h3>
            <table id="tones-set2-table"></table>
            <h3>လိတ်မွူး အတွယ်ꩻ (၃)</h3>
            <table id="tones-set3-table"></table>
            <h3>လိတ်မွူး အတွယ်ꩻ (၄)</h3>
            <table id="tones-set4-table"></table>
            <h3>လိတ်မွူး အတွယ်ꩻ (၅)</h3>
            <table id="tones-set5-table"></table>
            <h3>လိတ်မွူး အတွယ်ꩻ (၆)</h3>
            <table id="tones-set6-table"></table>
        </section>

    </div>

    <script src="paohData.js"></script>
    <script>// **အသံဖွင့်ရန် Function အသစ်ထည့်သွင်းခြင်း**
function playPaohSound(romanizedName) {
    // အသံဖိုင်များရှိရာ လမ်းကြောင်းကို ညွှန်းဆိုပါ
    // ဥပမာ: audio/a1.mp3
    const audioPath = `audio/${romanizedName}.mp3`; 
    const audio = new Audio(audioPath);

    // အသံဖွင့်ပြီး အမှားရှိရင် console မှာ ပြသခြင်း
    audio.play().catch(e => {
        console.error(`အသံဖွင့်ရာတွင် အမှားအယွင်းရှိပါသည်: ${audioPath}`, e);
    });
}

document.addEventListener('DOMContentLoaded', () => {
    // Function to create and populate a generic table
    function createTable(data, tableId, headers) {
        const tableElement = document.getElementById(tableId);
        if (!tableElement) return;

        const tbody = tableElement.querySelector('tbody') || document.createElement('tbody');
        if (!tableElement.querySelector('thead')) {
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headers.forEach(headerText => {
                const th = document.createElement('th');
                th.textContent = headerText;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            tableElement.appendChild(thead);
        }
        
        tbody.innerHTML = ''; 

        data.forEach(item => {
            const row = document.createElement('tr');
            // Object.values(item) အစား item.paoh, item.roman, item.ipa စသည်ဖြင့် တိုက်ရိုက်ယူခြင်း
            // ၎င်းတို့ကို အသံဖွင့်ရန်အတွက် click event listener ထည့်သွင်းနိုင်ရန်ဖြစ်သည်။
            // ဥပမာ: paoh, roman, ipa တို့ကို အသုံးပြု
            const keys = Object.keys(item); // item ရဲ့ key တွေကို ရယူ
            keys.forEach(key => {
                const td = document.createElement('td');
                td.textContent = item[key];
                
                // **ပအိုဝ်းစာလုံးများအတွက် click event listener ထည့်သွင်းခြင်း**
                // ဇယားထဲက ပအိုဝ်းစာလုံးပါတဲ့ column ကို နှိပ်ရင် အသံထွက်စေချင်ရင်
                // 'paoh' key ကို သေချာစစ်ဆေးပါ။
                if (key === 'paoh' && item.roman) { // romanization ရှိမှသာ အသံဖွင့်နိုင်မည်
                    td.classList.add('clickable-paoh-char'); // CSS ပုံစံအတွက် class ထည့်
                    td.addEventListener('click', () => {
                        playPaohSound(item.roman);
                    });
                }
                row.appendChild(td);
            });
            tbody.appendChild(row);
        });
        if (!tableElement.querySelector('tbody')) {
            tableElement.appendChild(tbody);
        }
    }

    // Function to create and populate tone tables (6 columns per row)
    // **ဒီ Function မှာလည်း အသံထွက်စနစ် ထည့်သွင်းရပါမယ်**
    function createToneTable(data, tableId) {
        const tableElement = document.getElementById(tableId);
        if (!tableElement) return;

        tableElement.innerHTML = ''; 

        const thead = document.createElement('thead');
        const headerRow = document.createElement('tr');
        ['ပအိုဝ်းစာ', 'Romanization', 'ပအိုဝ်းစာ', 'Romanization', 'ပအိုဝ်းစာ', 'Romanization'].forEach(headerText => {
            const th = document.createElement('th');
            th.textContent = headerText;
            headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        tableElement.appendChild(thead);

        const tbody = document.createElement('tbody');
        for (let i = 0; i < data.length; i += 6) {
            const row = document.createElement('tr');
            for (let j = 0; j < 6; j++) {
                const item = data[i + j];
                if (item) {
                    const paohTd = document.createElement('td');
                    paohTd.textContent = item.paoh;
                    // ** Tone ဇယားက ပအိုဝ်းစာလုံးတွေအတွက် click event listener ထည့်သွင်းခြင်း **
                    if (item.roman) { // romanization ရှိမှသာ အသံဖွင့်နိုင်မည်
                        paohTd.classList.add('clickable-paoh-char'); // CSS ပုံစံအတွက် class ထည့်
                        paohTd.addEventListener('click', () => {
                            playPaohSound(item.roman);
                        });
                    }
                    row.appendChild(paohTd);

                    const romanTd = document.createElement('td');
                    romanTd.textContent = item.roman;
                    row.appendChild(romanTd);
                } else {
                    // Fill empty cells if the last row doesn't have 6 pairs
                    row.appendChild(document.createElement('td'));
                    row.appendChild(document.createElement('td'));
                }
            }
            tbody.appendChild(row);
        }
        tableElement.appendChild(tbody);
    }

    // Populate tables using the data from paohData.js
    // **ဤနေရာတွင် data.js မှ paohBasicData ကို ရယူသည်ဟု ယူဆပါသည်။**
    // ဥပမာ: if (typeof paohBasicData !== 'undefined') { ... }
    // သို့မဟုတ် paohData.js ကို script.js မတိုင်မီ load ရန်သေချာပါစေ။

    if (typeof paohBasicData !== 'undefined') { // paohData.js က data ကို စစ်ဆေးခြင်း
        createTable(paohBasicData.paliVowels, 'pali-vowels-table', ['ပအိုဝ်းစာ', 'Romanization', 'IPA']);
        createTable(paohBasicData.paohVowels, 'paoh-vowels-table', ['ပအိုဝ်းစာ', 'Romanization', 'IPA (အကြံပြု)']);
        createTable(paohBasicData.paohConsonants, 'paoh-consonants-table', ['ပအိုဝ်းစာ', 'Romanization', 'IPA (အကြံပြု)']);
        createTable(paohBasicData.paohNumbers, 'paoh-numbers-table', ['ပအိုဝ်းစာ', 'Romanization']);
        createTable(paohBasicData.paohDiacritics, 'paoh-diacritics-table', ['ပအိုဝ်းစာ', 'Romanization', 'ဖော်ပြချက်']);

        // Populate tone sets
        createToneTable(paohBasicData.toneSets.set1, 'tones-set1-table');
        createToneTable(paohBasicData.toneSets.set2, 'tones-set2-table');
        createToneTable(paohBasicData.toneSets.set3, 'tones-set3-table');
        createToneTable(paohBasicData.toneSets.set4, 'tones-set4-table');
        createToneTable(paohBasicData.toneSets.set5, 'tones-set5-table');
        createToneTable(paohBasicData.toneSets.set6, 'tones-set6-table');
    } else {
        console.error("paohBasicData ကို ရှာမတွေ့ပါ။ paohData.js ဖိုင်ကို စစ်ဆေးပါ။");
    }
});
</script>
</body>
</html>
